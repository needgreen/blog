# Next.js 학습 노트

React로 프로젝트를 진행하면서 느낀 한계점들을 해결해주는 Next.js에 대해 정리했다.

- 10주 차 학습 : 2025.11.25-2025.11.28

## 1. 왜 Next.js를 배워야 할까

### 1.1. React와 Next.js의 차이

지금까지 React로 프로젝트를 진행하면서 느낀 점은 React는 정말 '도구'에 가깝다는 것이다. 필요한 기능들을 하나하나 찾아서 설치하고 설정해야 한다.

**React를 사용하면서 직접 설정한 것들**

- 라우팅: `react-router-dom` 설치 후 라우트 설정
- 상태 관리: Redux 설정 파일 작성
- 이미지 최적화: 별도 라이브러리 찾아서 적용

반면 Next.js는 이런 것들이 이미 다 준비되어 있는 '프레임워크'다. 정해진 규칙대로 폴더를 만들고 파일을 작성하면 프레임워크가 알아서 작동한다.

> **프레임워크의 특징: 제어의 역전**
>
> React에서는 내가 코드를 호출했다면, Next.js에서는 프레임워크가 내 코드를 호출한다. 그래서 Next.js가 정한 파일 구조와 네이밍 규칙을 따라야 한다.

---

### 1.2. 실제로 겪은 React의 한계

React(SPA)의 문제점들을 정리해봤다.

#### 1) 검색 최적화(SEO) 문제

React 앱을 빌드하면 처음에는 거의 빈 HTML 파일만 전달된다.

```html
<div id="root"></div>
```

검색 엔진 봇이 이 페이지를 읽으러 왔을 때, JavaScript가 실행되기 전까지는 실제 콘텐츠를 읽을 수 없다. 구글은 JavaScript를 실행해서 읽을 수 있지만, 네이버나 다음 같은 검색 엔진은 그렇지 못하다.

#### 2) 초기 로딩이 느린 문제

React는 모든 JavaScript 파일을 다운로드하고 실행해야 화면이 보인다. 인터넷이 느린 환경에서 사용자는 한참 동안 빈 화면만 봐야 한다.

**CSR(Client-Side Rendering)의 동작 방식**

1. 브라우저가 빈 HTML을 받는다
2. JavaScript 파일들을 다운로드한다
3. JavaScript가 실행되어 화면을 그린다
4. 사용자가 비로소 콘텐츠를 볼 수 있다

<details>
<summary><strong>CSR 방식 정리</strong></summary>

브라우저에서 JavaScript로 페이지를 렌더링하는 방식이다.

**좋은 점:**

- 페이지 이동이 빠르고 부드럽다
- 인터랙티브한 UI를 만들기 좋다
- 서버 부담이 적다

**아쉬운 점:**

- 첫 화면이 늦게 뜬다
- 검색 엔진이 내용을 읽기 어렵다
- JavaScript가 없으면 작동하지 않는다

**예시:** React, Vue로 만든 앱

</details>

#### 3) 설정이 복잡한 문제

프로젝트를 시작할 때마다 라우팅, 번들링, 최적화 설정을 직접 해야 한다. 실제 기능 개발보다 환경 설정에 시간을 더 쓰는 경우도 있었다.

---

### 1.3. Next.js가 제공하는 해결책

Next.js는 위에서 겪은 문제들을 프레임워크 레벨에서 해결해준다.

#### 1) 렌더링 방식을 선택할 수 있다

페이지 성격에 맞춰 렌더링 방식을 다르게 적용할 수 있다는 게 가장 큰 장점이다.

<details>
<summary><strong>SSR (서버에서 렌더링하기)</strong></summary>

서버가 완성된 HTML을 만들어서 보내주는 방식이다.

**좋은 점:**

- 첫 화면이 빠르게 보인다
- 검색 엔진이 내용을 잘 읽는다
- 모든 환경에서 기본 콘텐츠를 볼 수 있다

**아쉬운 점:**

- 서버에 부담이 간다
- 매 요청마다 서버가 일을 해야 한다

**언제 쓰면 좋을까:** 실시간으로 바뀌는 데이터를 보여줘야 할 때 (주식, 날씨 등)

</details>

<details>
<summary><strong>SSG (빌드할 때 미리 만들기)</strong></summary>

빌드 시점에 모든 페이지를 HTML로 만들어두는 방식이다.

**좋은 점:**

- 로딩이 정말 빠르다
- 서버 비용이 거의 안 든다
- 안정적이다

**아쉬운 점:**

- 내용이 자주 바뀌면 적합하지 않다
- 페이지가 많으면 빌드 시간이 길어진다

**언제 쓰면 좋을까:** 블로그, 문서 사이트처럼 내용이 자주 안 바뀌는 경우

</details>

<details>
<summary><strong>ISR (주기적으로 업데이트하기)</strong></summary>

미리 만들어둔 페이지를 주기적으로 새로 만드는 방식이다. SSG와 SSR의 장점을 섞었다.

**좋은 점:**

- 빠른 로딩과 최신 데이터를 둘 다 챙길 수 있다
- 서버 부담이 적다
- 검색 엔진에 유리하다

**아쉬운 점:**

- 설정이 조금 복잡하다
- 실시간 업데이트는 어렵다

**언제 쓰면 좋을까:** 뉴스, 상품 목록처럼 어느 정도 주기로 업데이트되는 경우

</details>

#### 2) 라우팅이 정말 쉽다

`react-router-dom`으로 라우트 설정 파일 작성할 필요 없이, 폴더만 만들면 자동으로 경로가 생긴다.

```
app/
├── page.tsx          → /
├── about/
│   └── page.tsx      → /about
└── courses/
    └── page.tsx      → /courses
```

#### 3) 최적화가 기본으로 제공된다

이미지 최적화, 폰트 최적화, 코드 분할 등이 자동으로 적용된다. 별도로 설정하지 않아도 성능이 좋다.

---

### 4) React vs Next.js 비교

실제 사용 경험을 바탕으로 정리한 비교표다.

| **항목**      | **React**               | **Next.js**                   |
| ------------- | ----------------------- | ----------------------------- |
| **성격**      | 라이브러리              | 프레임워크                    |
| **렌더링**    | CSR                     | SSR, SSG, ISR, CSR 모두 가능  |
| **검색 노출** | 어렵다                  | 쉽다                          |
| **라우팅**    | 직접 설정해야 함        | 폴더 구조가 곧 라우트         |
| **백엔드**    | 불가능 (별도 서버 필요) | API 기능 내장                 |
| **첫 화면**   | JavaScript 실행 후 표시 | 완성된 HTML 즉시 표시         |
| **추천 용도** | 관리자 페이지, 대시보드 | 쇼핑몰, 블로그, 마케팅 사이트 |

---

## 2. Next.js 시작하기

### 2.1. 프로젝트 세팅

#### 1) 설치 명령어

```bash
npx create-next-app@latest
```

#### 2) 설치 옵션 선택 가이드

프로젝트 생성 시 나오는 질문들에 대한 나만의 선택 기준이다.

| **질문**               | **내 선택**        | **이유**                                  |
| ---------------------- | ------------------ | ----------------------------------------- |
| **프로젝트 이름?**     | 소문자-하이픈 조합 | 관례이고 깔끔하다                         |
| **TypeScript 사용?**   | Yes                | 타입 체크로 버그를 줄일 수 있다           |
| **ESLint 사용?**       | Yes                | 코드 오류를 미리 잡아준다                 |
| **Tailwind CSS 사용?** | 프로젝트마다 다름  | 빠른 스타일링이 필요하면 Yes              |
| **src 폴더 사용?**     | Yes                | 설정 파일과 코드를 분리해서 관리하기 좋다 |
| **App Router 사용?**   | Yes                | 최신 표준이고 기능이 더 강력하다          |
| **import 별칭 사용?**  | Yes                | 상대 경로 지옥에서 벗어날 수 있다         |

#### 3) 프로젝트 구조 파악하기

```
my-next-app/
├── node_modules/             # 패키지들 (건드리지 않음)
├── .next/                    # 빌드 결과물 (자동 생성)
├── public/                   # 이미지, 파비콘 등 정적 파일
├── src/
│   ├── app/                  # 페이지와 라우트 (App Router)
│   └── components/           # 재사용 컴포넌트 (직접 만듦)
│
├── package.json              # 프로젝트 정보와 의존성
├── tsconfig.json             # TypeScript 설정
├── next.config.ts            # Next.js 설정
└── .gitignore                # Git에서 제외할 파일들
```

**중요한 폴더:**

- `src/app/`: 실제 페이지를 만드는 곳
- `public/`: 이미지 같은 파일을 넣는 곳
- `src/components/`: 여러 곳에서 쓸 컴포넌트를 모아두는 곳 (내가 추가로 만듦)

---
